@using Pulse.Shared.UI.Components
@using Pulse.Followers.UI.Components
@code {
    [Parameter] public Guid? UserId { get; set; } = Guid.Empty;
    [Parameter] public required string Name { get; set; }
    [Parameter] public required string Username { get; set; }
    [Parameter] public required string Description { get; set; }
    [Parameter] public int Following { get; set; }
    [Parameter] public int Followers { get; set; }
    [Parameter] public required string ProfilePictureUrl { get; set; }
    [Parameter(CaptureUnmatchedValues = true)] public Dictionary<string, object> AdditionalAttributes { get; set; } = new Dictionary<string, object>();
    
    private string initials => Name?.Split(' ').Select(x => x[0]).Aggregate(string.Empty, (x, y) => x + y) ?? string.Empty;
}

<div class="w-full flex flex-col gap-y-2 p-4 border-b border-slate-200" @attributes="AdditionalAttributes">
	<div class="flex justify-between items-start">
		<Avatar src="@ProfilePictureUrl" alt="@Name" initials="@initials" />
        @if(UserId is null || UserId != Guid.Empty)
        {
            <FollowButton UserId="@UserId" />
        }
    </div>
	<div class="mb-2">
        <div class="text-base font-semibold leading-none">@Name</div>
        <div class="text-sm text-slate-500 font-medium">@Username</div>	
    </div>
    <div class="text-sm mb-2">@Description</div>
    <div class="flex gap-x-4">
        <div class="flex gap-x-1">
            <div class="text-sm font-bold leading-none">@Following</div>
            <div class="text-sm text-slate-500 leading-none">Following</div>
        </div>
        <div class="flex gap-x-1">
            <div class="text-sm font-bold leading-none">@Followers</div>
            <div class="text-sm text-slate-500 leading-none">Followers</div>
        </div>
    </div>
</div>